echo "Installing tools"

if [ ! -d ${HOME}/.dotfiles ]; then
  echo "Getting dotfiles"
  git --git-dir=${HOME}/.dotfiles/ --work-tree=${HOME} clone 'git@github.com:cwebster2/dotfiles' --branch $DOTFILESBRANCH
else
  echo "Updating dotfiles"
  pushd ${HOME} >/dev/null
  git --git-dir=${HOME}/.dotfiles/ --work-tree=${HOME} pull
  popd >/dev/null
fi

if which bat > /dev/null; then
  alias cat='bat'
fi

# Install prettyping
if [ ! -f ${HOME}/bin/prettyping ]; then
  pushd /tmp > /dev/null
  curl -s -O https://raw.githubusercontent.com/denilsonsa/prettyping/master/prettyping
  sudo cp prettyping ${HOME}/bin
  echo Installing prettyping
  sudo chmod +x ${HOME}/bin/prettyping
  popd > /dev/null
fi

if [ -f ${HOME}/bin/prettyping ]; then
  alias ping='prettyping --nolegend'
fi

# Delta git pager
if [ ! -f ${HOME}/bin/delta ]; then
  echo Install delta from https://github.com/dandavison/delta
else
  git config --global core.pager 'delta --dark --plus-color="#012800" --minus-color="#340001"'
fi

echo "Done"

# nvm
nvm install node
nvm alias default node
nvm use node
npm i -g bash-language-server
npm i -g typescript

